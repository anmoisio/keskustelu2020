Experiment: am/converse_fin
Job ID: 56340882
Task ID: 
Host: pe83.int.triton.aalto.fi
Start date: Mon Nov  2 14:05:24 EET 2020
Work directory: /scratch/work/moisioa3/conv_lm/experiments/am/converse_fin
Temporary directory: /tmp/56340882

Currently Loaded Modules:
  1) GCCcore/6.4.0
  2) binutils/2.28-GCCcore-6.4.0
  3) GCC/6.4.0-2.28
  4) openfst/1.6.6-GCC-6.4.0
  5) OpenBLAS/0.2.20-GCC-6.4.0-2.28
  6) CUDA/9.0.176
  7) CUB/1.8.0
  8) sctk/2.4.10
  9) sph2pipe/2.5
 10) kaldi-2020/5968b4c-GCC-6.4.0-2.28-OPENBLAS
 11) anaconda3/latest

 

/home/moisioa3/.local/lib/python3.6/site-packages/sklearn/utils/deprecation.py:144: FutureWarning: The sklearn.cluster.k_means_ module is  deprecated in version 0.22 and will be removed in version 0.24. The corresponding classes / functions should instead be imported from sklearn.cluster. Anything that cannot be imported from sklearn.cluster is now part of the private API.
  warnings.warn(message, FutureWarning)
/home/moisioa3/.local/lib/python3.6/site-packages/sklearn/externals/joblib/__init__.py:15: FutureWarning: sklearn.externals.joblib is deprecated in 0.21 and will be removed in 0.23. Please import this functionality directly from joblib, which can be installed with: pip install joblib. If this warning is raised when loading pickled models, you may need to re-serialize those models with scikit-learn 0.21+.
  warnings.warn(msg, category=FutureWarning)
x [[ 0.00327173  0.10508378  0.00686988 ...  0.03727468  0.00901215
   0.05497473]
 [ 0.04436027  0.11704853  0.03766061 ...  0.03681062  0.01833633
   0.00810675]
 [-0.05252198  0.09442138 -0.00158046 ...  0.00282208  0.02091284
  -0.01775159]
 ...
 [-0.12618548  0.02287614  0.06500177 ... -0.0400902   0.04228402
  -0.06844476]
 [-0.08545083  0.0192138   0.10112065 ... -0.02158205 -0.08746409
  -0.01919216]
 [-0.14661158  0.0172354   0.10985043 ...  0.04198041 -0.04479374
   0.01115714]]
Traceback (most recent call last):
  File "local/compute_ari_with_embeddings.py", line 70, in <module>
    clustering_labels = get_spherical_clustering(embeddings, num_speakers)
  File "local/compute_ari_with_embeddings.py", line 46, in get_spherical_clustering
    skm.fit(embeddings)
  File "/home/moisioa3/.local/lib/python3.6/site-packages/spherecluster/spherical_kmeans.py", line 364, in fit
    return_n_iter=True,
  File "/home/moisioa3/.local/lib/python3.6/site-packages/spherecluster/spherical_kmeans.py", line 190, in spherical_k_means
    random_state=random_state,
  File "/home/moisioa3/.local/lib/python3.6/site-packages/spherecluster/spherical_kmeans.py", line 40, in _spherical_kmeans_single_lloyd
    sample_weight = _check_sample_weight(X, sample_weight)
  File "/home/moisioa3/.local/lib/python3.6/site-packages/sklearn/utils/validation.py", line 1215, in _check_sample_weight
    n_samples = _num_samples(X)
  File "/home/moisioa3/.local/lib/python3.6/site-packages/sklearn/utils/validation.py", line 147, in _num_samples
    raise TypeError(message)
TypeError: Expected sequence or array-like, got <class 'NoneType'>
